import{R as p,c as pe,r as L,q as ae,j as e,a as G,y as ie}from"./app-40acd811.js";import{H as ve}from"./HomeLayout-5519871c.js";import fe from"./ReviewsListing-2525eb64.js";import ge from"./ReviewForm-dd9129cc.js";import"./react-toastify.esm-2f604a06.js";import"./Header-13ee3b13.js";import"./Footer-d4c6ed61.js";import"./InputError-6ecf155d.js";function xe(){return p.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function we(){return p.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const X=(n,t)=>{var s,a;return n===((a=(s=t==null?void 0:t.tagName)==null?void 0:s.toUpperCase)==null?void 0:a.call(s))},ee=n=>X("DIV",n)||X("SPAN",n),H=n=>X("IMG",n),oe=n=>n.complete&&n.naturalHeight!==0,P=n=>X("SVG",n),ce=({height:n,offset:t,width:s})=>Math.min((window.innerWidth-t*2)/s,(window.innerHeight-t*2)/n),je=({containerHeight:n,containerWidth:t,offset:s,targetHeight:a,targetWidth:i})=>{const r=ce({height:a,offset:s,width:i}),h=i>a?i/t:a/n;return r>1?h:r*h},z=({containerHeight:n,containerWidth:t,hasScalableSrc:s,offset:a,targetHeight:i,targetWidth:r})=>!n||!t?1:!s&&i&&r?je({containerHeight:n,containerWidth:t,offset:a,targetHeight:i,targetWidth:r}):ce({height:n,offset:a,width:t}),Ne=/url(?:\(['"]?)(.*?)(?:['"]?\))/,re=n=>{var t;if(n){if(H(n))return n.currentSrc;if(ee(n)){const s=window.getComputedStyle(n).backgroundImage;if(s)return(t=Ne.exec(s))==null?void 0:t[1]}}},be=n=>{if(n)return H(n)?n.alt??void 0:n.getAttribute("aria-label")??void 0},_e=({containerHeight:n,containerLeft:t,containerTop:s,containerWidth:a,hasScalableSrc:i,offset:r,targetHeight:h,targetWidth:c})=>{const l=z({containerHeight:n,containerWidth:a,hasScalableSrc:i,offset:r,targetHeight:h,targetWidth:c});return{top:s,left:t,width:a*l,height:n*l,transform:`translate(0,0) scale(${1/l})`}},S=({position:n,relativeNum:t})=>{const s=parseFloat(n);return n.endsWith("%")?t*s/100:s},ye=({containerHeight:n,containerLeft:t,containerTop:s,containerWidth:a,hasScalableSrc:i,objectFit:r,objectPosition:h,offset:c,targetHeight:l,targetWidth:o})=>{if(r==="scale-down"&&(o<=a&&l<=n?r="none":r="contain"),r==="cover"||r==="contain"){const v=a/o,f=n/l,m=r==="cover"?Math.max(v,f):Math.min(v,f),[x="50%",j="50%"]=h.split(" "),b=S({position:x,relativeNum:a-o*m}),g=S({position:j,relativeNum:n-l*m}),w=z({containerHeight:l*m,containerWidth:o*m,hasScalableSrc:i,offset:c,targetHeight:l,targetWidth:o});return{top:s+g,left:t+b,width:o*m*w,height:l*m*w,transform:`translate(0,0) scale(${1/w})`}}else if(r==="none"){const[v="50%",f="50%"]=h.split(" "),m=S({position:v,relativeNum:a-o}),x=S({position:f,relativeNum:n-l}),j=z({containerHeight:l,containerWidth:o,hasScalableSrc:i,offset:c,targetHeight:l,targetWidth:o});return{top:s+x,left:t+m,width:o*j,height:l*j,transform:`translate(0,0) scale(${1/j})`}}else if(r==="fill"){const v=a/o,f=n/l,m=Math.max(v,f),x=z({containerHeight:l*m,containerWidth:o*m,hasScalableSrc:i,offset:c,targetHeight:l,targetWidth:o});return{width:a*x,height:n*x,transform:`translate(0,0) scale(${1/x})`}}else return{}},Le=({backgroundPosition:n,backgroundSize:t,containerHeight:s,containerLeft:a,containerTop:i,containerWidth:r,hasScalableSrc:h,offset:c,targetHeight:l,targetWidth:o})=>{if(t==="cover"||t==="contain"){const v=r/o,f=s/l,m=t==="cover"?Math.max(v,f):Math.min(v,f),[x="50%",j="50%"]=n.split(" "),b=S({position:x,relativeNum:r-o*m}),g=S({position:j,relativeNum:s-l*m}),w=z({containerHeight:l*m,containerWidth:o*m,hasScalableSrc:h,offset:c,targetHeight:l,targetWidth:o});return{top:i+g,left:a+b,width:o*m*w,height:l*m*w,transform:`translate(0,0) scale(${1/w})`}}else if(t==="auto"){const[v="50%",f="50%"]=n.split(" "),m=S({position:v,relativeNum:r-o}),x=S({position:f,relativeNum:s-l}),j=z({containerHeight:l,containerWidth:o,hasScalableSrc:h,offset:c,targetHeight:l,targetWidth:o});return{top:i+x,left:a+m,width:o*j,height:l*j,transform:`translate(0,0) scale(${1/j})`}}else{const[v="50%",f="50%"]=t.split(" "),m=S({position:v,relativeNum:r}),x=S({position:f,relativeNum:s}),j=m/o,b=x/l,g=Math.min(j,b),[w="50%",k="50%"]=n.split(" "),_=S({position:w,relativeNum:r-o*g}),M=S({position:k,relativeNum:s-l*g}),I=z({containerHeight:l*g,containerWidth:o*g,hasScalableSrc:h,offset:c,targetHeight:l,targetWidth:o});return{top:i+M,left:a+_,width:o*g*I,height:l*g*I,transform:`translate(0,0) scale(${1/I})`}}},Se=/\.svg$/i,Ee=({hasZoomImg:n,imgSrc:t,isSvg:s,isZoomed:a,loadedImgEl:i,offset:r,shouldRefresh:h,targetEl:c})=>{var w;const l=s||((w=t==null?void 0:t.slice)==null?void 0:w.call(t,0,18))==="data:image/svg+xml"||n||!!(t&&Se.test(t)),o=c.getBoundingClientRect(),v=window.getComputedStyle(c),f=i!=null&&ee(c),m=i!=null&&!f,x=_e({containerHeight:o.height,containerLeft:o.left,containerTop:o.top,containerWidth:o.width,hasScalableSrc:l,offset:r,targetHeight:(i==null?void 0:i.naturalHeight)||o.height,targetWidth:(i==null?void 0:i.naturalWidth)||o.width}),j=m?ye({containerHeight:o.height,containerLeft:o.left,containerTop:o.top,containerWidth:o.width,hasScalableSrc:l,objectFit:v.objectFit,objectPosition:v.objectPosition,offset:r,targetHeight:(i==null?void 0:i.naturalHeight)||o.height,targetWidth:(i==null?void 0:i.naturalWidth)||o.width}):void 0,b=f?Le({backgroundPosition:v.backgroundPosition,backgroundSize:v.backgroundSize,containerHeight:o.height,containerLeft:o.left,containerTop:o.top,containerWidth:o.width,hasScalableSrc:l,offset:r,targetHeight:(i==null?void 0:i.naturalHeight)||o.height,targetWidth:(i==null?void 0:i.naturalWidth)||o.width}):void 0,g=Object.assign({},x,j,b);if(a){const k=window.innerWidth/2,_=window.innerHeight/2,M=parseFloat(String(g.left||0))+parseFloat(String(g.width||0))/2,I=parseFloat(String(g.top||0))+parseFloat(String(g.height||0))/2,A=k-M,T=_-I;h&&(g.transitionDuration="0.01ms"),g.transform=`translate(${A}px,${T}px) scale(1)`}return g},W=n=>{if(!n)return{};if(P(n)){const t=n.parentElement,s=n.getBoundingClientRect();if(t){const a=t.getBoundingClientRect();return{height:s.height,left:a.left-s.left,top:a.top-s.top,width:s.width}}else return{height:s.height,left:s.left,width:s.width,top:s.top}}else return{height:n.offsetHeight,left:n.offsetLeft,width:n.offsetWidth,top:n.offsetTop}},Ce=n=>{const t="-zoom",s=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],a=new Map;if(n.hasAttribute("id")){const i=n.id,r=i+t;a.set(i,r),n.id=r}n.querySelectorAll("[id]").forEach(i=>{const r=i.id,h=r+t;a.set(r,h),i.id=h}),a.forEach((i,r)=>{const h=`url(#${r})`,c=`url(#${i})`,l=s.map(o=>`[${o}="${h}"]`).join(", ");n.querySelectorAll(l).forEach(o=>{s.forEach(v=>{o.getAttribute(v)===h&&o.setAttribute(v,c)})})}),n.querySelectorAll("style").forEach(i=>{a.forEach((r,h)=>{i.textContent&&(i.textContent=i.textContent.replaceAll(`#${h}`,`#${r}`))})})},Ie=["img","svg",'[role="img"]',"[data-zoom]"].map(n=>`${n}:not([aria-hidden="true"])`).join(","),le={overflow:"",width:""};function De(n){return p.createElement(de,{...n})}class de extends p.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=p.createRef(),this.refDialog=p.createRef(),this.refModalContent=p.createRef(),this.refModalImg=p.createRef(),this.refWrap=p.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=le,this.styleModalImg={},this.handleModalStateChange=t=>{var a,i,r,h;const{modalState:s}=this.state;t!=="LOADING"&&s==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):t!=="LOADED"&&s==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):t!=="UNLOADING"&&s==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):t!=="UNLOADED"&&s==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),(i=(a=this.refModalImg.current)==null?void 0:a.removeEventListener)==null||i.call(a,"transitionend",this.handleImgTransitionEnd),(h=(r=this.refDialog.current)==null?void 0:r.close)==null||h.call(r))},this.getDialogContainer=()=>{let t=document.querySelector("[data-rmiz-portal]");return t==null&&(t=document.createElement("div"),t.setAttribute("data-rmiz-portal",""),document.body.appendChild(t)),t},this.setId=()=>{const t=()=>Math.random().toString(16).slice(-4);this.setState({id:t()+t()+t()})},this.setAndTrackImg=()=>{var s,a;const t=this.refContent.current;t&&(this.imgEl=t.querySelector(Ie),this.imgEl?((a=(s=this.contentNotFoundChangeObserver)==null?void 0:s.disconnect)==null||a.call(s),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(i=>{const r=i[0];r!=null&&r.target&&(this.imgEl=r.target,this.setState({styleGhost:W(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:W(this.imgEl)})}),this.contentChangeObserver.observe(t,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(t,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=t=>{const{isZoomed:s}=this.props;!t&&s?this.zoom():t&&!s&&this.unzoom()},this.handleImgLoad=()=>{const t=re(this.imgEl);if(!t)return;const s=new Image;H(this.imgEl)&&(s.sizes=this.imgEl.sizes,s.srcset=this.imgEl.srcset),s.src=t;const a=()=>{this.setState({loadedImgEl:s,styleGhost:W(this.imgEl)})};s.decode().then(a).catch(()=>{if(oe(s)){a();return}s.onload=a})},this.handleZoom=()=>{var t,s;this.hasImage()&&((s=(t=this.props).onZoomChange)==null||s.call(t,!0))},this.handleUnzoom=()=>{var t,s;(s=(t=this.props).onZoomChange)==null||s.call(t,!1)},this.handleBtnUnzoomClick=t=>{t.preventDefault(),t.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=t=>{t.preventDefault()},this.handleDialogClick=t=>{(t.target===this.refModalContent.current||t.target===this.refModalImg.current)&&(t.stopPropagation(),this.handleUnzoom())},this.handleDialogClose=t=>{t.stopPropagation(),this.handleUnzoom()},this.handleKeyDown=t=>{(t.key==="Escape"||t.keyCode===27)&&(t.preventDefault(),t.stopPropagation(),this.handleUnzoom())},this.handleWheel=t=>{t.ctrlKey||(t.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=t=>{if(t.touches.length>1){this.isScaling=!0;return}t.changedTouches.length===1&&t.changedTouches[0]&&(this.touchYStart=t.changedTouches[0].screenY)},this.handleTouchMove=t=>{var a;const s=((a=window.visualViewport)==null?void 0:a.scale)??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&s<=1&&this.touchYStart!=null&&t.changedTouches[0]){this.touchYEnd=t.changedTouches[0].screenY;const i=Math.max(this.touchYStart,this.touchYEnd),r=Math.min(this.touchYStart,this.touchYEnd);Math.abs(i-r)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||P(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{var t,s,a,i;this.bodyScrollDisable(),(s=(t=this.refDialog.current)==null?void 0:t.showModal)==null||s.call(t),(i=(a=this.refModalImg.current)==null?void 0:a.addEventListener)==null||i.call(a,"transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const t=window.getComputedStyle(this.refModalImg.current).transitionDuration,s=parseFloat(t);if(s){const a=s*(t.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,a)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const t=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${t}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=le},this.loadZoomImg=()=>{const{props:{zoomImg:t}}=this,s=t==null?void 0:t.src;if(s){const a=new Image;a.sizes=(t==null?void 0:t.sizes)??"",a.srcset=(t==null?void 0:t.srcSet)??"",a.src=s;const i=()=>{this.setState({isZoomImgLoaded:!0})};a.decode().then(i).catch(()=>{if(oe(a)){i();return}a.onload=i})}},this.UNSAFE_handleSvg=()=>{var i,r,h,c,l;const{imgEl:t,refModalImg:s,styleModalImg:a}=this;if(P(t)){const o=t.cloneNode(!0);Ce(o),o.style.width=`${a.width||0}px`,o.style.height=`${a.height||0}px`,o.addEventListener("click",this.handleUnzoom),(h=(r=(i=s.current)==null?void 0:i.firstChild)==null?void 0:r.remove)==null||h.call(r),(l=(c=s.current)==null?void 0:c.appendChild)==null||l.call(c,o)}}}render(){const{handleBtnUnzoomClick:t,handleDialogCancel:s,handleDialogClick:a,handleDialogClose:i,handleUnzoom:r,handleZoom:h,imgEl:c,props:{a11yNameButtonUnzoom:l,a11yNameButtonZoom:o,children:v,classDialog:f,IconUnzoom:m,IconZoom:x,isZoomed:j,wrapElement:b,ZoomContent:g,zoomImg:w,zoomMargin:k},refContent:_,refDialog:M,refModalContent:I,refModalImg:A,refWrap:T,state:{id:B,isZoomImgLoaded:E,loadedImgEl:Z,modalState:C,shouldRefresh:R,styleGhost:q}}=this,Y=`rmiz-modal-${B}`,F=`rmiz-modal-img-${B}`,V=ee(c),O=H(c),d=P(c),u=be(c),y=re(c),D=O?c.sizes:void 0,K=O?c.srcset:void 0,Q=!!(w!=null&&w.src),N=this.hasImage(),J=u?`${o}: ${u}`:o,U=C==="LOADING"||C==="LOADED",he=N?"found":"not-found",me=C==="UNLOADED"||C==="UNLOADING"?"hidden":"visible",ue={visibility:C==="UNLOADED"?"visible":"hidden"};this.styleModalImg=N?Ee({hasZoomImg:Q,imgSrc:y,isSvg:d,isZoomed:j&&U,loadedImgEl:Z,offset:k,shouldRefresh:R,targetEl:c}):{};let te=null;if(N){const se=O||V?p.createElement("img",{alt:u,sizes:D,src:y,srcSet:K,...E&&C==="LOADED"?w:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:F,ref:A,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):d?p.createElement("div",{"data-rmiz-modal-img":!0,ref:A,style:this.styleModalImg}):null,ne=p.createElement("button",{"aria-label":l,"data-rmiz-btn-unzoom":"",onClick:t,type:"button"},p.createElement(m,null));te=g?p.createElement(g,{buttonUnzoom:ne,modalState:C,img:se,onUnzoom:r}):p.createElement(p.Fragment,null,se,ne)}return p.createElement(b,{"aria-owns":Y,"data-rmiz":"",ref:T},p.createElement(b,{"data-rmiz-content":he,ref:_,style:ue},v),N&&p.createElement(b,{"data-rmiz-ghost":"",style:q},p.createElement("button",{"aria-label":J,"data-rmiz-btn-zoom":"",onClick:h,type:"button"},p.createElement(x,null))),N&&pe.createPortal(p.createElement("dialog",{"aria-labelledby":F,"aria-modal":"true",className:f,"data-rmiz-modal":"",id:Y,onClick:a,onClose:i,onCancel:s,ref:M,role:"dialog"},p.createElement("div",{"data-rmiz-modal-overlay":me}),p.createElement("div",{"data-rmiz-modal-content":"",ref:I},te)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){var t,s,a,i,r,h,c,l,o,v,f,m;this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),(s=(t=this.contentChangeObserver)==null?void 0:t.disconnect)==null||s.call(t),(i=(a=this.contentNotFoundChangeObserver)==null?void 0:a.disconnect)==null||i.call(a),(h=(r=this.imgElResizeObserver)==null?void 0:r.disconnect)==null||h.call(r),(l=(c=this.imgEl)==null?void 0:c.removeEventListener)==null||l.call(c,"load",this.handleImgLoad),(v=(o=this.imgEl)==null?void 0:o.removeEventListener)==null||v.call(o,"click",this.handleZoom),(m=(f=this.refModalImg.current)==null?void 0:f.removeEventListener)==null||m.call(f,"transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(t,s){this.handleModalStateChange(s.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(t.isZoomed)}}de.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:xe,IconZoom:we,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function ke(n){const[t,s]=p.useState(!1);return p.createElement(De,{...n,isZoomed:t,onZoomChange:s})}const Be=({auth:n,product:t,product_reviews:s,product_images:a,average_rating:i,related_product_list:r,related_avg:h})=>{const[c,l]=L.useState(""),[o,v]=L.useState(""),[f,m]=L.useState("");let x=ae().props.auth.csrf_token;const j=()=>{r.forEach(d=>{const{product:u}=d,y={product_id:u.product_id,product_type:"simple",product_variant_id:null,quantity:1,_token:x};ie.post("/product/addtocart",y,{onSuccess:()=>{console.log(`Added ${u.product_title} to cart`)},onError:D=>{console.error(`Failed to add ${u.product_title}:`,D)}})})},[b,g]=L.useState(t.product_variants),[w,k]=L.useState(""),[_,M]=L.useState(""),I=Math.floor(i),A=i%1>=.1,T=5-I;new URLSearchParams,ae().props;function B(d){return n.orders!=""?n.orders.some(y=>y.orderproducts.some(D=>D.product_id===d)):!1}L.useState({pincode:""}),L.useState({courier:null,fastest_etd:""}),L.useState(""),$(document).ready(function(){$("#fixedBox").removeClass("visible").addClass("hidden"),$(window).on("scroll",function(){var d=$("#fixedBox"),u=$("#section2"),y=u.offset().top;y+u.outerHeight();var D=$(window).scrollTop()+$(window).height()/2;D>=y?d.removeClass("hidden").addClass("visible"):d.removeClass("visible").addClass("hidden")}),$("#addtoBasketButton").on("click",function(){$("#addBasketModal").modal("toggle"),n.user&&swal({title:"",text:t.product_title+" Added to Your Basket!",timer:2e3})})});const[E,Z]=L.useState(1),[C,R]=L.useState(t.product_discounted_price*E);L.useEffect(()=>{if(_!=""){const d=b.filter(u=>u.product_title==_);R(d[0].product_price),k(d[0].product_variant_id)}},[_]);const q=d=>n.wishlist!=""?n.wishlist.some(u=>u.product_id==d):!1,Y=(d=1)=>{ie.post("/wishlist/delete",{product_id:t.product_id},{onSuccess:()=>"",onError:u=>console.error(u)})},[F,V]=L.useState(`/backend-assets/uploads/product_thumbs/${t.product_thumb}`),O=d=>{V(`/backend-assets/uploads/product_images/${d.image_name}`)};return e.jsxs(ve,{auth:n,children:[e.jsx("section",{className:"section pt-5 products-details bg_light",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row g-5",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"main-image-box",children:[e.jsxs("h2",{className:"product-details-heading mb-4",children:["All Products ",">>","  ",e.jsx("span",{children:t.product_title})]}),e.jsxs("div",{className:"images-box",children:[e.jsx("div",{className:"image-b-box",children:e.jsx(ke,{children:e.jsx("img",{src:F,alt:"Selected Product"})})}),e.jsx("div",{className:"image-s-boxes",children:a.length>1&&a.map((d,u)=>e.jsx("img",{src:`/backend-assets/uploads/product_images/${d.image_name}`,alt:`Product Image ${u+1}`,onClick:()=>O(d)},u))})]})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"content-box",children:[e.jsx("h2",{className:"product-details-heading",children:e.jsx("span",{children:t.product_title})}),e.jsxs("div",{className:"content-price",children:[t.product_discounted_price==t.product_price&&e.jsxs("h4",{children:["₹",t.product_discounted_price,".00"]}),t.product_discounted_price!=t.product_price&&e.jsxs("h4",{children:[e.jsxs("span",{children:["₹",t.product_price,".00"]}),"₹",t.product_discounted_price,".00"]}),t.product_price-t.product_discounted_price>0&&e.jsxs("p",{className:"content-offer",children:["- ",t.product_price-t.product_discounted_price," Off"]})]}),e.jsxs("div",{className:"content-star star",children:[[...Array(I)].map((d,u)=>e.jsx("img",{src:"/assets/images/product-details/star1.png",alt:"Full star"},`full-${u}`)),A&&e.jsx("img",{src:"/assets/images/product-details/star2.png",alt:"Half star"}),[...Array(T)].map((d,u)=>e.jsx("img",{src:"/assets/images/product-details/star3.png",alt:"Full star"},`full-${u}`)),s.length>0&&e.jsxs("span",{children:[" (",s.length," Reviews)"]})]}),e.jsxs("div",{className:"main-content",children:[e.jsx("h6",{children:t.product_sub_title}),e.jsx("div",{dangerouslySetInnerHTML:{__html:t.product_specification}}),e.jsx("ul",{className:"icon-list mt-3",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.product_desc}})})]}),b.length>0&&e.jsxs("div",{className:"kg-box position-relative",children:[e.jsxs("p",{children:["Choose Weight: ",_]}),b.map(d=>e.jsx("button",{onClick:()=>M(d.product_title),className:_==d.product_title?"button gram-button active":"button gram-button",children:d.product_title},d.product_variant_id))]}),e.jsxs("div",{className:"black-button mt-5 d-flex",children:[e.jsxs("div",{className:"add-to-card-btn",children:["₹",C,".00",e.jsx("button",{className:"btn plus_button plus",id:"plus-btn",onClick:()=>{Z(d=>d+1),R(t.product_discounted_price*(E+1))},children:"|   +   |"}),e.jsx("div",{className:"number",children:e.jsxs(G,{type:"button",className:"btn btn-primary black",href:"/product/addtocart",as:"button",method:"post",data:{product_id:t.product_id,product_type:_!==""?"configurable":"simple",product_variant_id:w,quantity:E,_token:x,sweetnesslevel:c,ingrediantaddons:o,exclusions:f},"data-price":C,"data-quantity":E,children:["Add",e.jsxs("span",{id:"count",children:[" ",E," "]}),"to basket"]})}),e.jsx("button",{onClick:()=>{E-1!=0&&(Z(d=>d!=0?d-1:0),R(t.product_discounted_price*(E-1)))},className:"btn minus_button",id:"minus-btn",children:"|   -   |"})]}),!q(t.product_id)&&e.jsx(G,{type:"button",href:route("wishlist.add"),method:"post",as:"button",className:"gray",data:{product_id:t.product_id},children:e.jsx("img",{src:"/assets/images/product-details/empty-heart.png"})}),q(t.product_id)&&e.jsx("button",{type:"button",onClick:Y,className:"gray",children:e.jsx("img",{src:"/assets/images/product-details/heart.png"})})]}),e.jsxs("div",{className:"black-button mt-5",children:[e.jsxs("p",{className:"free-delivery text-center",children:[e.jsx("img",{src:"/assets/images/product-details/delivery-truck.png"}),"Free delivery over ₹500"]}),e.jsx("div",{className:"accordion product-ingredients mt-3",id:"accordionExample",children:e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Ingredients"})}),e.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body pt-0 ms-3",dangerouslySetInnerHTML:{__html:t.ingredients}})})]})})]})]})})]})})}),e.jsx("section",{className:"section bg_light pt-4",children:e.jsxs("div",{className:"marquee",children:[e.jsxs("div",{className:"marquee__item",children:["No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"})]}),e.jsxs("div",{className:"marquee__item",children:["No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"}),"No preservatives. 100% natural. Handcrafted with love.",e.jsx("span",{className:"marquee__seperator"})]})]})}),e.jsxs("section",{className:"section usage-instructions bg_light pt-4",id:"section2",children:[e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row g-5",children:[e.jsx("div",{className:"col-sm-6",children:e.jsx("div",{className:"instruction-image",children:e.jsx("img",{src:"/backend-assets/uploads/product_thumbs/"+t.product_thumb,alt:""})})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"instruction-content",children:[e.jsx("h2",{className:"product-details-heading mb-4",children:"Usage Instructions"}),e.jsxs("p",{children:[e.jsx("img",{src:"/assets/images/product-details/consumed-hours.png",alt:""}),"When to Consume"]}),e.jsxs("ul",{children:[e.jsx("li",{children:"Postpartum: Consume 1 laddoo daily for lactation and recovery."}),e.jsx("li",{children:"General Health: Ideal for adults as a nutritious snack."})]}),e.jsxs("p",{children:[e.jsx("img",{src:"/assets/images/product-details/basket.png",alt:""}),"How to Store"]}),e.jsxs("ul",{children:[e.jsx("li",{children:"Keep in an airtight container."}),e.jsx("li",{children:"Store in a cool, dry place."})]}),e.jsxs("p",{children:[e.jsx("img",{src:"/assets/images/product-details/milk.png",alt:""}),"Shelf Life"]}),e.jsx("ul",{children:e.jsx("li",{children:"Best before 30 days from the date of preparation."})})]})})]})}),e.jsx("div",{className:"half-circle",children:e.jsx("img",{src:"/assets/images/half-circle.png"})})]}),e.jsx("section",{className:"why-choose",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"why-choose-content",children:[e.jsx("h3",{className:"common-heading",children:"Why Choose Jaccha Dana Methi Laddoos?"}),e.jsx("ul",{className:"ms-4",dangerouslySetInnerHTML:{__html:t.product_disclaimer}})]})})})})}),e.jsx("section",{className:"section reviews",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-12",children:e.jsxs("div",{className:"reviews-heading",children:[e.jsxs("h3",{children:[Number(i).toFixed(1),e.jsxs("span",{children:["Based on ",s.length," reviews"]})]}),B(t.product_id)&&e.jsxs("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:["Write a Review ",e.jsx("i",{className:"fal fa-angle-right ms-3"})]})]})}),e.jsx(fe,{product_reviews:s})]})})}),r.length>0&&e.jsx("section",{className:"section product_listing",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"product-accordian product-listing-heading","data-aos":"fade-up","data-aos-delay":"200",children:[e.jsx("h3",{className:"common-heading",children:"You may also like"}),e.jsx("p",{children:"Handpicked treats to complement your wellness journey."}),e.jsxs("div",{className:"product-details-listing",children:[e.jsxs("p",{children:["Total",e.jsx("br",{}),e.jsxs("span",{children:["₹",r.reduce((d,u)=>d+(u.product.product_discounted_price||0),0)]})]}),e.jsx(G,{as:"a",className:"product-details-listing",id:"addAllToBasketButton",onClick:()=>j(),children:"Add all to basket"})]})]})}),e.jsx("div",{className:"col-sm-9",children:e.jsx("div",{className:"row","data-aos":"fade-up",children:r.map((d,u)=>{const y=h[u].avg,D=Math.floor(y),K=y%1>=.1,Q=5-D,{product:N}=d;return e.jsx("div",{className:"col-sm-4",children:e.jsxs("div",{className:"feature-box",children:[e.jsx("div",{className:"basket-box",children:e.jsx("i",{className:"fal fa-shopping-basket"})}),e.jsx("i",{className:"fal fa-heart heart"}),e.jsx("img",{src:`/backend-assets/uploads/product_thumbs/${N.product_thumb}`,alt:N.product_title}),e.jsxs("div",{className:"features-content",children:[e.jsx("p",{children:N.product_sub_title}),e.jsx("h5",{children:N.product_title}),N.product_discounted_price!=N.product_price&&e.jsxs("h6",{children:["₹",N.product_discounted_price," ",e.jsxs("del",{children:["₹",N.product_price]})]}),N.product_discounted_price==N.product_price&&e.jsxs("h6",{children:["₹",N.product_price," "]}),y&&e.jsxs("div",{className:"star",children:[[...Array(D)].map((J,U)=>e.jsx("img",{src:"/assets/images/product-details/star1.png",alt:"Full star"},`full-${U}`)),K&&e.jsx("img",{src:"/assets/images/product-details/star2.png",alt:"Half star"}),[...Array(Q)].map((J,U)=>e.jsx("img",{src:"/assets/images/product-details/star3.png",alt:"Full star"},`full-${U}`)),s.length>0&&e.jsxs("span",{children:[" (",s.length," Reviews)"]})]})]})]})},N.product_id)})})})]})})}),e.jsx("section",{className:"sticky-div",id:"fixedBox",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"sticky-product",children:[e.jsxs("div",{className:"sticky-product-img",children:[e.jsx("img",{src:"/backend-assets/uploads/product_thumbs/"+t.product_thumb,alt:""}),e.jsxs("p",{children:[t.product_title," ",e.jsx("br",{}),e.jsxs("span",{children:[" ₹",t.product_discounted_price,".00 "]})]})]}),e.jsxs("div",{className:"sticky-product-button",children:[e.jsxs("p",{children:["₹",C,".00"]}),e.jsx("div",{className:"add-to-card-btn",children:e.jsx("div",{className:"number",children:e.jsxs(G,{href:"/product/addtocart",as:"button",method:"post",data:{product_id:t.product_id,product_type:_!==""?"configurable":"simple",product_variant_id:w,quantity:E,_token:x,sweetnesslevel:c,ingrediantaddons:o,exclusions:f},className:"btn black",children:["Add",e.jsx("span",{id:"count1",children:E}),"to basket"]})})})]})]})})}),e.jsx("div",{className:"modal fade addBasket-modal review-modal",id:"addBasketModal",tabIndex:"-1","aria-labelledby":"addBasketModalLabel","aria-hidden":"true"}),e.jsx("div",{className:"modal fade review-modal",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"modal-body",children:[e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:e.jsx("i",{className:"fal fa-times"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"review-popup-content",children:[e.jsx("h2",{className:"modal-heading",children:"Write A Review"}),e.jsx(ge,{productId:t.product_id})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsx("div",{className:"review-popup-image",children:e.jsx("img",{src:"/assets/images/product-details/why-choose.jpg",alt:""})})})]})]})})})})]})};export{Be as default};
