import{r as u,j as e,b as N}from"./app-eb1041c5.js";import{B as c}from"./react-toastify.esm-456690f6.js";const v=({finalGrandTotal:r,setFinalGrandTotal:p,shippingAmount:l,codCharges:d,gstCharges:i,paymentMode:m,setCouponCode1:x,setCouponDiscount:C})=>{const[o,h]=u.useState(""),[b,s]=u.useState(""),g=()=>{if(!o.trim()){s("Please enter a coupon code.");return}N.post("/apply-coupon",{coupon_code:o}).then(t=>{const{discountAmount:a,updatedTotal:y,success:f,message:n}=t.data;if(f){r=0;let j=m=="Cash On Delivery"?d:0;p((Number(y)+Number(l)+Number(j)+Number(i)).toFixed(2)),s(`Coupon applied successfully! Discount: ${a}`),x(o),C(a),c(n)}else s(n),c(n)}).catch(t=>{s("An error occurred while applying the coupon."),c(b)})};return e.jsxs("div",{className:"discount-code",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"Discount Code",value:o,onChange:t=>h(t.target.value)}),e.jsx("button",{className:"discount-button",type:"button",onClick:g,children:"Apply"}),e.jsx("br",{}),e.jsx("div",{})]})},E=v;export{E as default};
