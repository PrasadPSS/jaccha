import{q as v,r as l,j as e,a as y}from"./app-dacddda1.js";function k({products:h}){let m=v().props.auth;const[n,x]=l.useState([]),[d,p]=l.useState([]),[t,u]=l.useState(""),[r,j]=l.useState("asc"),b=a=>{x(s=>s.includes(a)?s.filter(c=>c!==a):[...s,a])},N=a=>{p(s=>s.includes(a)?s.filter(c=>c!==a):[...s,a])},f=a=>{u(a)},g=()=>{j(a=>a=="asc"?"desc":"asc")},o=h.filter(a=>{const s=n.length===0||n.includes(a.category),c=d.length===0||d.includes(a.size),i=!t||a.price>=t.min&&a.price<=t.max;return s&&c&&i});return o.sort(function(a,s){if(a.updatedAt>s.updatedAt)return r=="desc"?-1:1;if(a.updatedAt==s.updatedAt)return 0;if(a.updatedAt<s.updatedAt)return r=="desc"?1:-1}),e.jsx("section",{className:"section product_listing",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"product-accordian","data-aos":"fade-up","data-aos-delay":"200",children:[e.jsx("h2",{children:"All Products"}),e.jsxs("div",{className:"accordion",id:"accordionExample",children:[e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Category"})}),e.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:m.categories.map(a=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:a.category_slug,onChange:()=>b(a.category_slug)}),e.jsx("label",{className:"form-check-label",children:a.category_name})]})},a.category_id))})})})]}),e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Price"})}),e.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:[{label:"Below ₹500",min:0,max:500},{label:"₹500 - ₹1000",min:500,max:1e3},{label:"Above ₹1000",min:1e3,max:1/0}].map(a=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"priceFilter",value:a.label,onChange:()=>f(a)}),e.jsx("label",{className:"form-check-label",children:a.label})]})},a.label))})})})]}),e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"Size"})}),e.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:["Small","Medium","Large"].map(a=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:a,onChange:()=>N(a)}),e.jsx("label",{className:"form-check-label",children:a})]})},a))})})})]})]})]})}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("div",{className:"row","data-aos":"fade-up",children:[e.jsx("div",{className:"col-sm-12 text-right",children:e.jsx("div",{className:"product-select mb-4",children:e.jsxs("select",{onChange:g,className:"form-select","aria-label":"Default select example",children:[e.jsx("option",{selected:!0,value:"asc",children:"Asc"}),e.jsx("option",{value:"desc",children:"Desc"})]})})}),o.map((a,s)=>e.jsx("a",{href:"/product/view/"+a.id,className:s>2?"col-sm-4 mt-5":"col-sm-4",children:e.jsxs("form",{action:"/product/addtocart",method:"post",children:[e.jsx("input",{type:"hidden",name:"_token",value:document.querySelector('meta[name="csrf-token"]').getAttribute("content")}),e.jsx("input",{type:"hidden",name:"product_id",value:a.id}),e.jsx("input",{type:"hidden",name:"quantity",value:1}),e.jsx("input",{type:"hidden",name:"product_type",value:"simple"}),e.jsx("input",{type:"hidden",name:"product_price",value:a.price}),e.jsxs("div",{className:"feature-box",children:[e.jsx("button",{type:"submit",children:e.jsx("div",{className:"basket-box",children:e.jsx("i",{className:"fal fa-shopping-basket"})})}),e.jsx(y,{method:"post",href:route("wishlist.add"),as:"button",type:"button",data:{product_id:a.id},children:e.jsx("i",{className:"fal fa-heart heart"})}),e.jsx("img",{src:a.image,alt:a.name}),e.jsxs("div",{className:"features-content",children:[e.jsx("p",{children:a.category}),e.jsx("h5",{children:a.name}),e.jsxs("h6",{children:["₹",a.price,".00"]}),e.jsxs("div",{className:"star",children:[Array(a.rating).fill().map((c,i)=>e.jsx("img",{src:"/assets/images/star.png",alt:"star"},i)),e.jsxs("span",{children:["( ",a.reviews," reviews )"]})]})]})]})]})},a.id))]})})]})})})}export{k as default};
