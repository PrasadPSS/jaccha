import{q as _,r as a,j as e}from"./app-40627bc8.js";import E from"./ProductList-c4626f60.js";function R({products:r,sizes1:b,prices:d}){let f=_().props.auth,h=[],m=[];b.map(s=>{h.push(s.size_name)}),d.map(s=>{m.push({label:s.price_name,min:s.min,max:s.max})}),console.log("pricess",d);const[o,p]=a.useState([]),[n,u]=a.useState([]),[i,x]=a.useState(""),[j,v]=a.useState("low-to-high"),[y,g]=a.useState(1);console.log("productss",r);const w=s=>{p(c=>c.includes(s)?c.filter(l=>l!==s):[...c,s])},S=s=>{u(c=>c.includes(s)?c.filter(l=>l!==s):[...c,s])},k=s=>{x(s)},C=()=>{v(s=>s=="low-to-high"?"high-to-low":"low-to-high")},t=r.filter(s=>{const c=o.length===0||o.includes(s.category),l=n.length===0||n.includes(s.size),P=!i||s.price>=i.min&&s.price<=i.max;return c&&l&&P});a.useEffect(()=>g(1),[o,n,i]),console.log(t),t.sort(function(s,c){if(s.price-s.discount>c.price-c.discount)return j=="low-to-high"?1:-1;if(s.price-s.discount==c.price-c.discount)return 0;if(s.price-s.discount<c.price-c.discount)return j=="high-to-low"?1:-1});const N=()=>{p([]),x(null),u([]),document.querySelectorAll(".product-accordian input").forEach(c=>{c.type==="checkbox"||c.type==="radio"?c.checked=!1:c.value=""})};return e.jsx("section",{className:"section product_listing",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"product-accordian","data-aos":"fade-up","data-aos-delay":"200",children:[e.jsxs("div",{className:"product-filter",children:[e.jsx("h2",{className:"",children:"Filters"}),e.jsx("button",{onClick:N,className:"btn btn-primary filter-reset",children:"Reset All"})]}),e.jsxs("div",{className:"accordion",id:"accordionExample",children:[e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Category"})}),e.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:f.categories.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:s.category_slug,onChange:()=>w(s.category_slug)}),e.jsx("label",{className:"form-check-label",children:s.category_name})]})},s.category_id))})})})]}),e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Price"})}),e.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:m.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"priceFilter",value:s.label,onChange:()=>k(s)}),e.jsx("label",{className:"form-check-label",children:s.label})]})},s.label))})})})]}),e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"Size"})}),e.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:h.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:s.size_name,onChange:()=>S(s.size_name)}),e.jsx("label",{className:"form-check-label",children:s})]})},s.size_name))})})})]})]})]})}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("div",{className:"row","data-aos":"fade-up",children:[e.jsx("div",{className:"col-sm-12 text-right",children:e.jsx("div",{className:"product-select mb-4",children:e.jsxs("select",{onChange:C,className:"form-select","aria-label":"Default select example",children:[e.jsx("option",{selected:!0,disabled:!0,value:"",children:"Sort By"}),e.jsx("option",{value:"low-to-high",children:"Price low to high"}),e.jsx("option",{value:"high-to-low",children:"Price high to low"})]})})}),t.length==0&&e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row align-items-center empty-product",children:[e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"empty-wishlist-content",children:[e.jsx("h2",{children:"Oops! No products found."}),e.jsx("p",{children:"It seems like we couldn't find any products matching your filters."}),e.jsx("button",{onClick:N,className:"btn btn-primary",children:"Reset All"})]})}),e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"empty-wishlist-image",children:e.jsx("img",{src:"/assets/images/empty-wishlist.png",alt:"Empty Wishlist Illustration",className:"img-fluid"})})})]})}),e.jsx(E,{filteredProducts:t,setCurrentPage:g,currentPage:y})]})})]})})})}export{R as default};
