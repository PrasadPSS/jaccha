import{q as N,r as o,W as z,j as s,a as B,y as k,b as G}from"./app-b2098a0d.js";import{I as n}from"./InputError-6309c79c.js";import"./TextInput-a83ecaf7.js";import{U as J}from"./UserMenu-0253b12f.js";import"./HomeLayout-88e7aa1b.js";import"./Header-0b788fe8.js";import"./Footer-f9918450.js";function cs({shipping_addresses:S,mustVerifyEmail:K,status:Q,className:X="",districts:h}){const D=h.filter((e,i,m)=>i===m.findIndex(f=>f.state_name===e.state_name)),_=N().props.auth.user,p=N().props.auth;N().props.flash.error;const[u,E]=o.useState(""),[v,Y]=o.useState(D),[y,L]=o.useState(""),[M,P]=o.useState([]);o.useEffect(()=>P(h.filter(e=>e.state_name==u)),[u]);const[d,w]=o.useState({shipping_full_name:"",shipping_mobile_no:"",shipping_address_line1:"",shipping_address_line2:"",shipping_landmark:"",shipping_city:"",shipping_pincode:"",shipping_district:"",shipping_state:"",shipping_address_type:"",shipping_email:"",default_address_flag:!1}),[r,U]=o.useState(""),[F,C]=o.useState(!1),t=e=>{const{name:i,value:m,type:f,checked:q}=e.target;w({...d,[i]:f==="checkbox"?q:m}),i=="shipping_state"&&E(m),i=="shipping_district"&&L(m)},I=e=>{e.preventDefault(),k.post(route("address.store"),d,{onSuccess:()=>{console.log("Address submitted successfully"),$("#exampleModal").modal("hide")},onError:i=>(U(i),!1)})},[T,V]=o.useState([]);let a="";const W=e=>{G.get("/shippingaddress/edit/"+e).then(function(i){a=i.data.shipping_address,g({shipping_address_id:a.shipping_address_id||"",shipping_full_name:a.shipping_full_name||"",shipping_mobile_no:a.shipping_mobile_no||"",shipping_address_line1:a.shipping_address_line1||"",shipping_address_line2:a.shipping_address_line2||"",shipping_landmark:a.shipping_landmark||"",shipping_city:a.shipping_city||"",shipping_pincode:a.shipping_pincode||"",shipping_district:a.shipping_district||"",shipping_state:a.shipping_state||"",shipping_address_type:a.shipping_address_type||"",shipping_email:a.shipping_email||"",default_address_flag:a.default_address_flag||0}),V(h.filter(m=>m.state_name==a.shipping_state)),C(a.default_address_flag)}).catch(function(i){console.log(i)})},[l,g]=o.useState({shipping_address_id:a.shipping_address_id||"",shipping_full_name:a.shipping_full_name||"",shipping_mobile_no:a.shipping_mobile_no||"",shipping_address_line1:a.shipping_address_line1||"",shipping_address_line2:a.shipping_address_line2||"",shipping_landmark:a.shipping_landmark||"",shipping_city:a.shipping_city||"",shipping_pincode:a.shipping_pincode||"",shipping_district:a.shipping_district||"",shipping_state:a.shipping_state||"",shipping_address_type:a.shipping_address_type||"",shipping_email:a.shipping_email||"",default_address_flag:a.default_address_flag||0}),c=e=>{const{name:i,value:m}=e.target;console.log(i,m),g({...l,[i]:m}),i=="default_address_flag"&&(C(e.target.checked),g({...l,[i]:e.target.checked}))},H=e=>{e.preventDefault(),k.post(route("address.update"),l,{onSuccess:()=>{console.log("Address updated successfully!")},onError:i=>{console.error("Validation errors: ",i)}})},{data:x,setData:O,patch:R,errors:j,processing:Z,recentlySuccessful:ss}=z({name:_.name,email:_.email,mobile_no:_.mobile_no});o.useEffect(()=>console.log("selected disctrict",y),[y]);function b(e){const i=e.target.name,m=e.target.value;O(i,m)}const A=e=>{e.preventDefault(),R(route("profile.update"))};return s.jsxs(J,{auth:p,activeTab:"profile",children:[s.jsxs("div",{className:"tab-pane fade show active",id:"pills-second",role:"tabpanel","aria-labelledby":"pills-second-tab",children:[s.jsxs("div",{className:"account-right-content",children:[s.jsxs("div",{className:"details-heading px-4 py-3 d-flex align-items-center",children:[s.jsx("h3",{children:"Personal Details"}),s.jsxs("button",{type:"button",className:"btn update-details-btn","data-bs-toggle":"modal","data-bs-target":"#updatePersonal",children:[s.jsx("i",{className:"fas fa-pencil"})," Edit"]})]}),s.jsxs("div",{className:"contact_details p-4",children:[s.jsxs("p",{children:["Name: ",p.user.name]}),s.jsxs("p",{children:["Mail: ",p.user.email]}),s.jsxs("p",{children:["Phone: +91 ",p.user.mobile_no]})]})]}),s.jsxs("div",{className:"account-right-content mt-4",children:[s.jsxs("div",{className:"details-heading px-4 py-3 d-flex align-items-center",children:[s.jsx("h3",{children:"Address Details"}),s.jsxs("button",{type:"button",className:"btn add-new-address-btn","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[s.jsx("i",{className:"fas fa-plus-circle"})," Add New Address"]})]}),s.jsx("div",{className:"row",children:S.map(e=>s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"contact_details p-4",children:[s.jsxs("p",{children:["Name: ",e.shipping_full_name]}),s.jsxs("p",{children:["Mail: ",e.shipping_email]}),s.jsxs("p",{children:["Phone: +91 ",e.shipping_mobile_no]}),s.jsx("button",{type:"button",className:"btn edit-address-btn","data-bs-toggle":"modal","data-bs-target":"#editAddress",onClick:()=>W(e.shipping_address_id),children:" Edit"}),s.jsx(B,{as:"button",href:"/shippingaddress/delete/"+e.shipping_address_id,method:"post",className:"btn remove-address-btn",onClick:i=>confirm("Are you sure you want to delete this address?"),children:"Remove"})]})}))})]})]}),s.jsx("div",{className:"modal fade",id:"updatePersonal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:s.jsx("div",{className:"modal-dialog add-address-form",children:s.jsxs("form",{onSubmit:A,className:"modal-content bg-light py-2",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title text-center m-auto",id:"exampleModalLabel",children:"Update Personal Details"}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:s.jsx("i",{className:"far fa-times"})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"row",onSubmit:A,children:[s.jsx("div",{className:"col-sm-12",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",name:"name",onChange:b,placeholder:"Full Name",value:x.name,id:"exampleAddress"}),s.jsx(n,{className:"mt-2",message:j.name})]})}),s.jsx("div",{className:"col-sm-12",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",name:"email",onChange:b,placeholder:"E-mail Address",value:x.email,id:"exampleAddress"}),s.jsx(n,{className:"mt-2",message:j.email})]})}),s.jsx("div",{className:"col-sm-12",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"number",className:"form-control",name:"mobile_no",onChange:b,placeholder:"Contact Number",id:"exampleAddress",value:x.mobile_no}),s.jsx(n,{className:"mt-2",message:j.mobile_no})]})})]})}),s.jsxs("div",{className:"modal-footer m-auto border-0",children:[s.jsx("button",{type:"submit",className:"btn button black","data-bs-dismiss":"modal",children:"Update Details"}),s.jsx("button",{type:"button",className:"button cancel_btn black","data-bs-dismiss":"modal",children:"Cancel"})]})]})})}),s.jsx("div",{className:"modal address-modal fade",id:"editAddress",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:s.jsx("form",{className:"modal-dialog add-address-form",onSubmit:H,children:s.jsxs("div",{className:"modal-content bg-light py-2",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title text-center m-auto",id:"exampleModalLabel",children:"Update Address"}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:s.jsx("i",{className:"far fa-times"})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-6",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"Full Name",id:"shipping_full_name",name:"shipping_full_name",value:l.shipping_full_name,onChange:c})})}),s.jsx("div",{className:"col-sm-6",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("input",{type:"number",className:"form-control",placeholder:"Contact Number",id:"shipping_mobile_no",name:"shipping_mobile_no",value:l.shipping_mobile_no,onChange:c})})}),s.jsx("div",{className:"col-sm-6",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"Address Line 1",id:"shipping_address_line1",name:"shipping_address_line1",value:l.shipping_address_line1,onChange:c})})}),s.jsx("div",{className:"col-sm-6",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"Address Line 2",id:"shipping_address_line2",name:"shipping_address_line2",value:l.shipping_address_line2,onChange:c})})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"Landmark",id:"shipping_landmark",name:"shipping_landmark",value:l.shipping_landmark,onChange:c})})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"City",id:"shipping_city",name:"shipping_city",value:l.shipping_city,onChange:c})})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"Pincode",id:"shipping_pincode",name:"shipping_pincode",value:l.shipping_pincode,onChange:c})})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("select",{className:"form-control",id:"shipping_district",name:"shipping_district",value:l.shipping_district,onChange:c,children:T.map(e=>s.jsx("option",{value:e.name,children:e.name}))})})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("select",{className:"form-control",id:"shipping_state",name:"shipping_state",value:l.shipping_state,onChange:c,children:v.map(e=>s.jsx("option",{value:e.state_name,children:e.state_name}))})})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"E-mail Address",id:"shipping_email",name:"shipping_email",value:l.shipping_email,onChange:c})})}),s.jsx("div",{className:"col-sm-6",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsxs("select",{className:"form-control",id:"shipping_address_type",name:"shipping_address_type",value:l.shipping_address_type,onChange:c,children:[s.jsx("option",{value:"",children:"Select Address Type"}),s.jsx("option",{value:"district1",children:"Home"}),s.jsx("option",{value:"district2",children:"Work"}),s.jsx("option",{value:"district3",children:"Other"})]})})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsxs("label",{for:"defaultAddress",children:[s.jsx("input",{type:"checkbox",id:"default_address_flag",name:"default_address_flag",onChange:c,checked:F})," Set as Default Address"]})})})]})}),s.jsxs("div",{className:"modal-footer m-auto border-0",children:[s.jsx("button",{"data-bs-dismiss":"modal",type:"submit",className:"btn button black",children:"Update Address"}),s.jsx("button",{type:"button",className:"button cancel_btn black","data-bs-dismiss":"modal",children:"Cancel"})]})]})})}),s.jsx("div",{className:"modal fade address-modal",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:s.jsx("form",{onSubmit:I,className:"modal-dialog add-address-form",children:s.jsxs("div",{className:"modal-content bg-light py-2",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title text-center m-auto",id:"exampleModalLabel",children:"Add Shipping Address"}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:s.jsx("i",{className:"far fa-times"})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Full Name",id:"shipping_full_name",name:"shipping_full_name",value:d.shipping_full_name,onChange:t}),s.jsx(n,{message:r.shipping_full_name,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"number",className:"form-control",placeholder:"Contact Number",id:"shipping_mobile_no",name:"shipping_mobile_no",value:d.shipping_mobile_no,onChange:t}),s.jsx(n,{message:r.shipping_mobile_no,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Address Line 1",id:"shipping_address_line1",name:"shipping_address_line1",value:d.shipping_address_line1,onChange:t}),s.jsx(n,{message:r.shipping_address_line1,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Address Line 2",id:"shipping_address_line2",name:"shipping_address_line2",value:d.shipping_address_line2,onChange:t}),s.jsx(n,{message:r.shipping_address_line2,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Landmark",id:"shipping_landmark",name:"shipping_landmark",value:d.shipping_landmark,onChange:t}),s.jsx(n,{message:r.shipping_landmark,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"City",id:"shipping_city",name:"shipping_city",value:d.shipping_city,onChange:t}),s.jsx(n,{message:r.shipping_city,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Pincode",id:"shipping_pincode",name:"shipping_pincode",value:d.shipping_pincode,onChange:t}),s.jsx(n,{message:r.shipping_pincode,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsxs("select",{className:"form-control",id:"shipping_district",name:"shipping_district",value:d.shipping_district,onChange:t,children:[s.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select District"}),M.map(e=>s.jsx("option",{value:e.name,children:e.name}))]}),s.jsx(n,{message:r.shipping_district,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsxs("select",{className:"form-control",id:"shipping_state",name:"shipping_state",value:u,onChange:t,children:[s.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select State"}),v.map(e=>s.jsx("option",{value:e.state_name,children:e.state_name}))]}),s.jsx(n,{message:r.shipping_state,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"E-mail Address",id:"shipping_email",name:"shipping_email",value:d.shipping_email,onChange:t}),s.jsx(n,{message:r.shipping_email,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsxs("select",{className:"form-control",id:"shipping_address_type",name:"shipping_address_type",value:d.shipping_address_type,onChange:t,children:[s.jsx("option",{value:"",children:"Select Address Type"}),s.jsx("option",{value:"district1",children:"Home"}),s.jsx("option",{value:"district2",children:"Work"}),s.jsx("option",{value:"district3",children:"Other"})]}),s.jsx(n,{message:r.shipping_address_type,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsxs("label",{for:"defaultAddress",children:[s.jsx("input",{type:"checkbox",id:"default_address_flag",name:"default_address_flag",value:d.default_address_flag,onChange:t})," Set as Default Address"]})})})]})}),s.jsxs("div",{className:"modal-footer m-auto border-0",children:[s.jsx("button",{type:"submit",className:"btn button black",children:"Add Address"}),s.jsx("button",{type:"button",className:"button cancel_btn black","data-bs-dismiss":"modal",children:"Cancel"})]})]})})})]})}export{cs as default};
