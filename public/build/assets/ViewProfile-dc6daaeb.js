import{q as v,r,W as z,j as s,a as B,y as D,b as G}from"./app-1db18ecd.js";import{I as i}from"./InputError-adc726b7.js";import"./TextInput-91d425f7.js";import{U as J}from"./UserMenu-ec8838c8.js";import"./HomeLayout-e4b89124.js";import"./react-toastify.esm-41fdebaa.js";import"./Header-594a3000.js";import"./Footer-9575ffe7.js";function cs({shipping_addresses:E,mustVerifyEmail:K,status:Q,className:X="",districts:_}){const L=_.filter((e,l,m)=>l===m.findIndex(h=>h.state_name===e.state_name)),g=v().props.auth.user,o=v().props.auth;v().props.flash.error;const[u,M]=r.useState(""),[y,Y]=r.useState(L),[C,w]=r.useState(""),[P,U]=r.useState([]);r.useEffect(()=>U(_.filter(e=>e.state_name==u)),[u]);const[t,F]=r.useState({shipping_full_name:"",shipping_mobile_no:"",shipping_address_line1:"",shipping_address_line2:"",shipping_landmark:"",shipping_city:"",shipping_pincode:"",shipping_district:"",shipping_state:"",shipping_address_type:"",shipping_email:"",default_address_flag:!1}),[n,x]=r.useState(""),[I,k]=r.useState(!1),c=e=>{const{name:l,value:m,type:h,checked:q}=e.target;F({...t,[l]:h==="checkbox"?q:m}),l=="shipping_state"&&M(m),l=="shipping_district"&&w(m)},W=e=>{e.preventDefault(),D.post(route("address.store"),t,{onSuccess:()=>{console.log("Address submitted successfully"),$("#exampleModal").modal("hide")},onError:l=>(x(l),!1)})},[H,A]=r.useState([]);let a="";const O=e=>{G.get("/shippingaddress/edit/"+e).then(function(l){a=l.data.shipping_address,j({shipping_address_id:a.shipping_address_id||"",shipping_full_name:a.shipping_full_name||"",shipping_mobile_no:a.shipping_mobile_no||"",shipping_address_line1:a.shipping_address_line1||"",shipping_address_line2:a.shipping_address_line2||"",shipping_landmark:a.shipping_landmark||"",shipping_city:a.shipping_city||"",shipping_pincode:a.shipping_pincode||"",shipping_district:a.shipping_district||"",shipping_state:a.shipping_state||"",shipping_address_type:a.shipping_address_type||"",shipping_email:a.shipping_email||"",default_address_flag:a.default_address_flag||0}),A(_.filter(m=>m.state_name==a.shipping_state)),k(a.default_address_flag),x("")}).catch(function(l){console.log(l)})},[d,j]=r.useState({shipping_address_id:a.shipping_address_id||"",shipping_full_name:a.shipping_full_name||"",shipping_mobile_no:a.shipping_mobile_no||"",shipping_address_line1:a.shipping_address_line1||"",shipping_address_line2:a.shipping_address_line2||"",shipping_landmark:a.shipping_landmark||"",shipping_city:a.shipping_city||"",shipping_pincode:a.shipping_pincode||"",shipping_district:a.shipping_district||"",shipping_state:a.shipping_state||"",shipping_address_type:a.shipping_address_type||"",shipping_email:a.shipping_email||"",default_address_flag:a.default_address_flag||0}),p=e=>{const{name:l,value:m}=e.target;console.log(l,m),j({...d,[l]:m}),l=="default_address_flag"&&(k(e.target.checked),j({...d,[l]:e.target.checked})),l=="shipping_state"&&A(_.filter(h=>h.state_name==m))},T=e=>{e.preventDefault(),D.post(route("address.update"),d,{onSuccess:()=>{console.log("Address updated successfully!"),$("#editAddress").modal("hide")},onError:l=>{console.error("Validation errors: ",l),x(l)}})},{data:b,setData:V,patch:R,errors:f,processing:Z,recentlySuccessful:ss}=z({name:g.name,email:g.email,mobile_no:g.mobile_no});r.useEffect(()=>console.log("selected disctrict",C),[C]);function N(e){const l=e.target.name,m=e.target.value;V(l,m)}const S=e=>{e.preventDefault(),R(route("profile.update"))};return s.jsxs(J,{auth:o,activeTab:"profile",children:[s.jsxs("div",{className:"tab-pane fade show active",id:"pills-second",role:"tabpanel","aria-labelledby":"pills-second-tab",children:[s.jsxs("div",{className:"account-right-content",children:[s.jsxs("div",{className:"details-heading px-4 py-3 d-flex align-items-center",children:[s.jsx("h3",{children:"Personal Details"}),s.jsxs("button",{type:"button",className:"btn update-details-btn","data-bs-toggle":"modal","data-bs-target":"#updatePersonal",children:[s.jsx("i",{className:"fas fa-pencil"})," Edit"]})]}),s.jsxs("div",{className:"contact_details p-4",children:[s.jsxs("p",{children:["Name: ",o.user.name," ",o.user.last_name]}),s.jsxs("p",{children:["Mail: ",o.user.email]}),s.jsxs("p",{children:["Phone: +91 ",o.user.mobile_no]})]})]}),s.jsxs("div",{className:"account-right-content mt-4",children:[s.jsxs("div",{className:"details-heading px-4 py-3 d-flex align-items-center",children:[s.jsx("h3",{children:"Address Details"}),s.jsxs("button",{type:"button",className:"btn add-new-address-btn","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[s.jsx("i",{className:"fas fa-plus-circle"})," Add New Address"]})]}),s.jsx("div",{className:"row",children:E.map(e=>s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"contact_details p-4",children:[s.jsxs("p",{children:[e.shipping_full_name,", ",e.shipping_mobile_no,", ",e.shipping_address_line1,", ",e.shipping_address_line2,", ",e.shipping_landmark,", ",e.shipping_city,", ",e.shipping_pincode,", ",e.shipping_district,", ",e.shipping_state,", ",e.shipping_address_type,", ",e.shipping_email]}),s.jsx("p",{children:e.shipping_address_type}),e.default_address_flag==1&&s.jsx("div",{children:"Default"}),s.jsx("button",{type:"button",className:"btn edit-address-btn","data-bs-toggle":"modal","data-bs-target":"#editAddress",onClick:()=>O(e.shipping_address_id),children:"Edit"}),s.jsx(B,{as:"button",href:"/shippingaddress/delete/"+e.shipping_address_id,method:"post",className:"btn remove-address-btn",onClick:l=>confirm("Are you sure you want to delete this address?"),children:"Remove"})]})}))})]})]}),s.jsx("div",{className:"modal fade",id:"updatePersonal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:s.jsx("div",{className:"modal-dialog add-address-form",children:s.jsxs("form",{onSubmit:S,className:"modal-content bg-light py-2",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title text-center m-auto",id:"exampleModalLabel",children:"Update Personal Details"}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:s.jsx("i",{className:"far fa-times"})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"row",onSubmit:S,children:[s.jsx("div",{className:"col-sm-12",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",name:"name",onChange:N,placeholder:"Full Name",value:b.name,id:"exampleAddress"}),s.jsx(i,{className:"mt-2",message:f.name})]})}),s.jsx("div",{className:"col-sm-12",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",name:"email",onChange:N,placeholder:"E-mail Address",value:b.email,id:"exampleAddress"}),s.jsx(i,{className:"mt-2",message:f.email})]})}),s.jsx("div",{className:"col-sm-12",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"number",className:"form-control",name:"mobile_no",onChange:N,placeholder:"Contact Number",id:"exampleAddress",value:b.mobile_no}),s.jsx(i,{className:"mt-2",message:f.mobile_no})]})})]})}),s.jsxs("div",{className:"modal-footer m-auto border-0",children:[s.jsx("button",{type:"submit",className:"btn button black","data-bs-dismiss":"modal",children:"Update Details"}),s.jsx("button",{type:"button",className:"button cancel_btn black","data-bs-dismiss":"modal",children:"Cancel"})]})]})})}),s.jsx("div",{className:"modal address-modal fade",id:"editAddress",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:s.jsx("form",{className:"modal-dialog add-address-form",onSubmit:T,children:s.jsxs("div",{className:"modal-content bg-light py-2",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title text-center m-auto",id:"exampleModalLabel",children:"Update Address"}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:s.jsx("i",{className:"far fa-times"})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Full Name *",id:"shipping_full_name",name:"shipping_full_name",value:d.shipping_full_name,onChange:p}),s.jsx(i,{message:n.shipping_full_name,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"number",className:"form-control",placeholder:"Contact Number",id:"shipping_mobile_no",name:"shipping_mobile_no",value:d.shipping_mobile_no,onChange:p}),s.jsx(i,{message:n.shipping_mobile_no,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Address Line 1",id:"shipping_address_line1",name:"shipping_address_line1",value:d.shipping_address_line1,onChange:p}),s.jsx(i,{message:n.shipping_address_line1,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Address Line 2",id:"shipping_address_line2",name:"shipping_address_line2",value:d.shipping_address_line2,onChange:p}),s.jsx(i,{message:n.shipping_address_line2,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Landmark",id:"shipping_landmark",name:"shipping_landmark",value:d.shipping_landmark,onChange:p}),s.jsx(i,{message:n.shipping_landmark,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"City",id:"shipping_city",name:"shipping_city",value:d.shipping_city,onChange:p}),s.jsx(i,{message:n.shipping_city,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"number",className:"form-control",placeholder:"Pincode",id:"shipping_pincode",name:"shipping_pincode",value:d.shipping_pincode,onChange:p}),s.jsx(i,{message:n.shipping_pincode,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("select",{className:"form-control",id:"shipping_state",name:"shipping_state",value:d.shipping_state,onChange:p,children:y.map(e=>s.jsx("option",{value:e.state_name,children:e.state_name}))}),s.jsx(i,{message:n.shipping_state,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("select",{className:"form-control",id:"shipping_district",name:"shipping_district",value:d.shipping_district,onChange:p,children:H.map(e=>s.jsx("option",{value:e.name,children:e.name}))}),s.jsx(i,{message:n.shipping_district,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"E-mail Address",id:"shipping_email",name:"shipping_email",value:d.shipping_email,onChange:p}),s.jsx(i,{message:n.shipping_email,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsxs("select",{className:"form-control",id:"shipping_address_type",name:"shipping_address_type",value:d.shipping_address_type,onChange:p,children:[s.jsx("option",{value:"",children:"Select Address Type *"}),s.jsx("option",{value:"Home",children:"Home"}),s.jsx("option",{value:"Work",children:"Work"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsx(i,{message:n.shipping_address_type,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsxs("label",{for:"defaultAddress",children:[s.jsx("input",{type:"checkbox",id:"default_address_flag",name:"default_address_flag",onChange:p,checked:I})," Set as Default Address"]})})})]})}),s.jsxs("div",{className:"modal-footer m-auto border-0",children:[s.jsx("button",{type:"submit",className:"btn button black",children:"Update Address"}),s.jsx("button",{type:"button",className:"button cancel_btn black","data-bs-dismiss":"modal",children:"Cancel"})]})]})})}),s.jsx("div",{className:"modal fade address-modal",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:s.jsx("form",{onSubmit:W,className:"modal-dialog add-address-form",children:s.jsxs("div",{className:"modal-content bg-light py-2",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title text-center m-auto",id:"exampleModalLabel",children:"Add Shipping Address"}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:s.jsx("i",{className:"far fa-times"})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Full Name *",id:"shipping_full_name",name:"shipping_full_name",value:t.shipping_full_name,onChange:c}),s.jsx(i,{message:n.shipping_full_name,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"number",className:"form-control",placeholder:"Contact Number *",id:"shipping_mobile_no",name:"shipping_mobile_no",value:t.shipping_mobile_no,onChange:c}),s.jsx(i,{message:n.shipping_mobile_no,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Address Line 1 *",id:"shipping_address_line1",name:"shipping_address_line1",value:t.shipping_address_line1,onChange:c}),s.jsx(i,{message:n.shipping_address_line1,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Address Line 2 *",id:"shipping_address_line2",name:"shipping_address_line2",value:t.shipping_address_line2,onChange:c}),s.jsx(i,{message:n.shipping_address_line2,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Landmark *",id:"shipping_landmark",name:"shipping_landmark",value:t.shipping_landmark,onChange:c}),s.jsx(i,{message:n.shipping_landmark,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"City *",id:"shipping_city",name:"shipping_city",value:t.shipping_city,onChange:c}),s.jsx(i,{message:n.shipping_city,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"number",className:"form-control",placeholder:"Pincode *",id:"shipping_pincode",name:"shipping_pincode",value:t.shipping_pincode,onChange:c}),s.jsx(i,{message:n.shipping_pincode,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsxs("select",{className:"form-control",id:"shipping_state",name:"shipping_state",value:u,onChange:c,children:[s.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select State *"}),y.map(e=>s.jsx("option",{value:e.state_name,children:e.state_name}))]}),s.jsx(i,{message:n.shipping_state,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsxs("select",{className:"form-control",id:"shipping_district",name:"shipping_district",value:t.shipping_district,onChange:c,children:[s.jsx("option",{value:"",selected:!0,disabled:!0,children:"Select District *"}),P.map(e=>s.jsx("option",{value:e.name,children:e.name}))]}),s.jsx(i,{message:n.shipping_district,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"E-mail Address *",id:"shipping_email",name:"shipping_email",value:t.shipping_email,onChange:c}),s.jsx(i,{message:n.shipping_email,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-inputs mb-3",children:[s.jsxs("select",{className:"form-control",id:"shipping_address_type",name:"shipping_address_type",value:t.shipping_address_type,onChange:c,children:[s.jsx("option",{value:"",children:"Select Address Type *"}),s.jsx("option",{value:"Home",children:"Home"}),s.jsx("option",{value:"Work",children:"Work"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsx(i,{message:n.shipping_address_type,className:"mt-2"})]})}),s.jsx("div",{className:"col-sm-4",children:s.jsx("div",{className:"form-inputs mb-3",children:s.jsxs("label",{for:"defaultAddress",children:[s.jsx("input",{type:"checkbox",id:"default_address_flag",name:"default_address_flag",value:t.default_address_flag,onChange:c})," Set as Default Address"]})})})]})}),s.jsxs("div",{className:"modal-footer m-auto border-0",children:[s.jsx("button",{type:"submit",className:"btn button black",children:"Add Address"}),s.jsx("button",{type:"button",className:"button cancel_btn black","data-bs-dismiss":"modal",children:"Cancel"})]})]})})})]})}export{cs as default};
