import{q as y,r as l,j as e}from"./app-6d3035c7.js";import S from"./ProductList-21c84adc.js";function A({products:u}){let x=y().props.auth;const[d,o]=l.useState([]),[i,n]=l.useState([]),[t,r]=l.useState(""),[h,p]=l.useState("asc"),j=a=>{o(c=>c.includes(a)?c.filter(s=>s!==a):[...c,a])},b=a=>{n(c=>c.includes(a)?c.filter(s=>s!==a):[...c,a])},N=a=>{r(a)},f=()=>{p(a=>a=="asc"?"desc":"asc")},m=u.filter(a=>{const c=d.length===0||d.includes(a.category),s=i.length===0||i.includes(a.size),v=!t||a.price>=t.min&&a.price<=t.max;return c&&s&&v});m.sort(function(a,c){if(a.updatedAt>c.updatedAt)return h=="desc"?-1:1;if(a.updatedAt==c.updatedAt)return 0;if(a.updatedAt<c.updatedAt)return h=="desc"?1:-1});const g=()=>{o([]),r(null),n([]),document.querySelectorAll(".product-accordian input").forEach(c=>{c.type==="checkbox"||c.type==="radio"?c.checked=!1:c.value=""})};return e.jsx("section",{className:"section product_listing",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"product-accordian","data-aos":"fade-up","data-aos-delay":"200",children:[e.jsx("h2",{children:"All Products"}),e.jsxs("div",{className:"accordion",id:"accordionExample",children:[e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Category"})}),e.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:x.categories.map(a=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:a.category_slug,onChange:()=>j(a.category_slug)}),e.jsx("label",{className:"form-check-label",children:a.category_name})]})},a.category_id))})})})]}),e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Price"})}),e.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:[{label:"Low",min:0,max:1e3},{label:"High",min:1e3,max:1/0}].map(a=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"priceFilter",value:a.label,onChange:()=>N(a)}),e.jsx("label",{className:"form-check-label",children:a.label})]})},a.label))})})})]}),e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"Size"})}),e.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","data-bs-parent":"#accordionExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{children:["Small","Medium","Large"].map(a=>e.jsx("li",{children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",value:a,onChange:()=>b(a)}),e.jsx("label",{className:"form-check-label",children:a})]})},a))})})})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{className:"btn btn-secondary",onClick:g,children:"Clear Filters"})})]})}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("div",{className:"row","data-aos":"fade-up",children:[e.jsx("div",{className:"col-sm-12 text-right",children:e.jsx("div",{className:"product-select mb-4",children:e.jsxs("select",{onChange:f,className:"form-select","aria-label":"Default select example",children:[e.jsx("option",{selected:!0,value:"asc",children:"Asc"}),e.jsx("option",{value:"desc",children:"Desc"})]})})}),e.jsx(S,{filteredProducts:m})]})})]})})})}export{A as default};
